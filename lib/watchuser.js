!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("watchUser",[],e):"object"==typeof exports?exports.watchUser=e():t.watchUser=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clearString=e.stringMouseButton=e.stringElement=e.getElement=e.stringKeys=void 0;var i=n(2),r=(e.stringKeys=function(t){var e="";return t.metaKey&&(e+="[meta]"),t.shiftKey&&(e+="[shift]"),t.altKey&&(e+="[alt]"),t.ctrlKey&&(e+="[ctrl]"),e||null},e.getElement=function(t){return t.target||t.srcElement}),o=(e.stringElement=function(t){if(i.isNode)return"";var e=r(t);if(e===document||e===document.documentElement||e===document.body||e===window)return null;var n=e.outerHTML||"",o=n.replace(/\n/g,""),u=o.replace(/\s\s+/g," "),s=u.replace(/> </g,"><"),a=s.slice(0,50)+"...";return s.length>50?a:s},e.stringMouseButton=function(t){return 0===t.button?"left":1===t.button?"middle":2===t.button?"right":3===t.button?"back":4===t.button?"forward":""},function(t){var e={};return Object.keys(t).forEach(function(n){null!==t[n]&&void 0!==t[n]&&(e[n]=t[n])}),e});e.clearString=function(t){var e=JSON.stringify(o(t)).replace(/"([^(")"]+)":/g,"$1:").replace(/\\"/g,'"');return"{}"===e?"":e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getAllEvents=e.isFunction=e.endWith=e.startWith=e.includes=e.pointerSupports=e.supportPassive=void 0;var i=n(2),r=(e.supportPassive=function(){if(!i.isNode){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(t){return!1}return t}},e.pointerSupports=!i.isNode&&Boolean(window.PointerEvent),e.includes=function(t,e){return-1!==t.indexOf(e)}),o=e.startWith=function(t,e){return 0===t.indexOf(e)};e.endWith=function(t,e){var n=t.indexOf(e);return e.length+n===t.length},e.isFunction=function(t){return"function"==typeof t},e.getAllEvents=function(){if(!i.isNode){var t={window:[],document:[]};for(var e in window)if(o(e,"on")){var n=e.slice(2);t.window.push(n)}for(var u in document)if(o(u,"on")){var s=u.slice(2);r(t.window,s)||t.document.push(s)}return t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=e.isBrowser="object"===("undefined"==typeof window?"undefined":i(window)),o=e.isNode=!r;e.default={isBrowser:r,isNode:o}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(4),o=i(r),u=n(5),s=i(u),a=n(8),c=i(a),f=n(1),l=function(){var t={},e=function(t){return o.default.addEventAndNotifyListeners((0,c.default)(t))};return t.start=function(n){return o.default.activate(),n&&o.default.addConfig(n),s.default.subscribe(e),t},t.stop=function(){return o.default.deactivate(),s.default.unscribe(),t},t.reset=function(){return o.default.reset(),t},t.onEvent=function(e){return(0,f.isFunction)(e)&&o.default.addListener(e),t},t.getEvents=function(){return o.default.getEvents().reverse()},t}();t.exports=l},function(t,e,n){"use strict";function i(t,e){if(null===e.toString())return!0;var n=e.type,i=t.mergeMouseEvents,o=t.disabledEvents,u=t.disableMouseMove,s=t.deviceEvents;if(i){var a=(0,r.startWith)(n,"mouse"),c=(0,r.startWith)(n,"touch");if(r.pointerSupports&&(a||c))return!0}if(u){if((0,r.endWith)(n,"out")||(0,r.endWith)(n,"over")||(0,r.endWith)(n,"move"))return!0}return!!(o&&o.length&&(0,r.includes)(o,n))||!(!1!==s||!(0,r.startWith)(n,"device"))}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o={state:{active:!1,events:[],listeners:[],config:{mergeMouseEvents:!0,deviceEvents:!1,disableMouseMove:!0,disabledEvents:["selectstart","wheel"]}},activate:function(){this.state.active=!0},addConfig:function(t){this.state.config=t},deactivate:function(){this.state.active=!1},reset:function(){this.state.active=!1,this.state.events=[],this.state.listeners=[]},addEventAndNotifyListeners:function(t){i(this.state.config,t)||(this.addEvent(t),this.notifyListeners(t))},addEvent:function(t){this.state.events.push(t)},notifyListeners:function(t){this.state.listeners.forEach(function(e){return e(t)})},addListener:function(t){this.state.listeners.push(t)},getEvents:function(){return this.state.events}};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=function(t){return t&&t.__esModule?t:{default:t}}(i),o=n(1),u=(0,o.getAllEvents)(),s={},a=!o.supportPassive||{passive:!0,capture:!0};e.default={subscribe:function(t){u.window.forEach(function(e){var n=(0,r.default)(t,500);s["window."+e]=n,window.addEventListener(e,n,a)}),u.document.forEach(function(e){var n=(0,r.default)(t,500);s["document."+e]=n,document.addEventListener(e,n,a)})},unscribe:function(){u.window.forEach(function(t){var e=s["window."+t];window.removeEventListener(t,e,a)}),u.document.forEach(function(t){var e=s["document."+t];document.removeEventListener(t,e,a)})}}},function(t,e,n){(function(e){function n(t,e,n){function i(e){var n=p,i=y;return p=y=void 0,j=e,m=t.apply(i,n)}function o(t){return j=t,b=setTimeout(f,e),O?i(t):m}function u(t){var n=t-w,i=t-j,r=e-n;return M?E(r,g-i):r}function c(t){var n=t-w,i=t-j;return void 0===w||n>=e||n<0||M&&i>=g}function f(){var t=_();if(c(t))return l(t);b=setTimeout(f,u(t))}function l(t){return b=void 0,W&&p?i(t):(p=y=void 0,m)}function d(){void 0!==b&&clearTimeout(b),j=0,p=w=y=b=void 0}function h(){return void 0===b?m:l(_())}function v(){var t=_(),n=c(t);if(p=arguments,y=this,w=t,n){if(void 0===b)return o(w);if(M)return b=setTimeout(f,e),i(w)}return void 0===b&&(b=setTimeout(f,e)),m}var p,y,g,m,b,w,j=0,O=!1,M=!1,W=!0;if("function"!=typeof t)throw new TypeError(a);return e=s(e)||0,r(n)&&(O=!!n.leading,M="maxWait"in n,g=M?S(s(n.maxWait)||0,e):g,W="trailing"in n?!!n.trailing:W),v.cancel=d,v.flush=h,v}function i(t,e,i){var o=!0,u=!0;if("function"!=typeof t)throw new TypeError(a);return r(i)&&(o="leading"in i?!!i.leading:o,u="trailing"in i?!!i.trailing:u),n(t,e,{leading:o,maxWait:e,trailing:u})}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function o(t){return!!t&&"object"==typeof t}function u(t){return"symbol"==typeof t||o(t)&&w.call(t)==f}function s(t){if("number"==typeof t)return t;if(u(t))return c;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var n=h.test(t);return n||v.test(t)?p(t.slice(2),n?2:8):d.test(t)?c:+t}var a="Expected a function",c=NaN,f="[object Symbol]",l=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,v=/^0o[0-7]+$/i,p=parseInt,y="object"==typeof e&&e&&e.Object===Object&&e,g="object"==typeof self&&self&&self.Object===Object&&self,m=y||g||Function("return this")(),b=Object.prototype,w=b.toString,S=Math.max,E=Math.min,_=function(){return m.Date.now()};t.exports=i}).call(e,n(7))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(9),u=i(o),s=n(10),a=i(s),c=n(11),f=i(c),l=n(12),d=i(l),h=n(13),v=i(h),p=n(14),y=i(p),g=n(15),m=i(g),b=n(16),w=i(b),S=n(17),E=i(S),_=n(18),j=i(_),O=n(19),M=i(O),W=n(20),x=i(W),P=n(21),L=i(P),N=n(22),K=i(N),T=n(23),X=i(T);e.default=function(t){return t.toString=u.default,(0,r.startWith)(t.type,"pageshow")&&(t.toString=a.default),(0,r.startWith)(t.type,"mouse")&&(t.toString=f.default),(0,r.startWith)(t.type,"touch")&&(t.toString=d.default),(0,r.startWith)(t.type,"pointer")&&(t.toString=v.default),(0,r.startWith)(t.type,"key")&&(t.toString=j.default),(0,r.startWith)(t.type,"click")&&(t.toString=y.default),(0,r.startWith)(t.type,"scroll")&&(t.toString=m.default),(0,r.startWith)(t.type,"resize")&&(t.toString=M.default),(0,r.startWith)(t.type,"copy")&&(t.toString=x.default),(0,r.startWith)(t.type,"cut")&&(t.toString=x.default),(0,r.startWith)(t.type,"paste")&&(t.toString=x.default),(0,r.startWith)(t.type,"wheel")&&(t.toString=L.default),(0,r.startWith)(t.type,"readystate")&&(t.toString=E.default),(0,r.startWith)(t.type,"visibility")&&(t.toString=K.default),(0,r.startWith)(t.type,"selectionchange")&&(t.toString=w.default),(0,r.includes)(t.type,"orientationchange")&&(t.toString=X.default),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=this.screenX,e=this.screenX,n={x:t,y:e,element:(0,i.stringElement)(this)};return this.type+" "+(0,i.clearString)(n)};var i=n(0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return""+this.type}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=this.type,e=this.pressure,n=this.screenX,r=this.screenY,o=this.width,u=this.height,s="mousedown"===t||"mouseup"===t?(0,i.stringMouseButton)(this):null,a={x:n,y:r,pressure:e,button:s,width:o,height:u,meta:(0,i.stringKeys)(this),element:(0,i.stringElement)(this)};return t+" "+(0,i.clearString)(a)};var i=n(0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t=this.type,e=this.touches,n=[],r=e.length,o=0;o<r;o++)n.push({x:e[o].pageX,y:e[o].pageX});var u={touches:r?n:null,meta:(0,i.stringKeys)(this),element:(0,i.stringElement)(this)};return t+" "+(0,i.clearString)(u)};var i=n(0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=1===this.width?null:this.width,e=1===this.height?null:this.height,n={x:this.screenX,y:this.screenY,width:t,height:e,meta:(0,i.stringKeys)(this),element:(0,i.stringElement)(this)};return this.type+" "+(0,i.clearString)(n)};var i=n(0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=this.type,e=this.pressure,n=this.screenX,r=this.screenY,o=(0,i.stringMouseButton)(this),u={x:n,y:r,pressure:e,button:o,meta:(0,i.stringKeys)(this),element:(0,i.stringElement)(this)};return t+" "+(0,i.clearString)(u)};var i=n(0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=(0,i.getElement)(this),e=t===document?document.documentElement:t,n=e.scrollLeft||null,r=e.scrollTop||null,o=e.scrollHeight,u={x:n,y:r,height:o,element:(0,i.stringElement)(this)};return this.type+" "+(0,i.clearString)(u)};var i=n(0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=document.getSelection?document.getSelection().toString():"???";return t?this.type+" "+(0,i.clearString)({text:t}):null};var i=n(0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t={state:document.readyState};return this.type+" "+(0,i.clearString)(t)};var i=n(0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=this.type,e=this.charCode,n=this.keyCode,r=this.which,o=this.key,u=this.code,s=e||n||r,a=o||String.fromCharCode(u)||u,c={code:s,key:a,meta:(0,i.stringKeys)(this),element:(0,i.stringElement)(this)};return t+" "+(0,i.clearString)(c)};var i=n(0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(i.isNode)return{};var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n={width:t,height:e};return this.type+" "+(0,r.clearString)(n)};var i=n(2),r=n(0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t={text:this.clipboardData.getData("Text")};return this.type+" "+(0,i.clearString)(t)};var i=n(0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=this.type,e=this.deltaX,n=this.deltaY,r=this.deltaZ,o={deltaX:e,deltaY:n,deltaZ:r};return t+" "+(0,i.clearString)(o)};var i=n(0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t={state:document.visibilityState};return this.type+" "+(0,i.clearString)(t)};var i=n(0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=screen.orientation||screen.mozOrientation||screen.msOrientation,e={type:t.type,angle:t.angle};return this.type+" "+(0,i.clearString)(e)};var i=n(0)}])});
//# sourceMappingURL=watchuser.js.map